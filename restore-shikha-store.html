<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù…ØªØ¬Ø± Ø´ÙŠØ®Ø©</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 500px;
            width: 100%;
        }
        h1 {
            color: #333;
            margin-bottom: 20px;
            font-size: 24px;
        }
        .status {
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            font-weight: bold;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .warning {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        .info {
            background-color: #cce7ff;
            color: #004085;
            border: 1px solid #99d1ff;
        }
        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px;
            text-decoration: none;
            display: inline-block;
            transition: transform 0.3s ease;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .store-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: right;
        }
        .store-name {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        .store-desc {
            color: #666;
            margin-bottom: 15px;
        }
        .product-count {
            color: #007bff;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸª Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù…ØªØ¬Ø± Ø´ÙŠØ®Ø©</h1>
        
        <div class="status success" id="status">
            âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…ØªØ¬Ø± Ø´ÙŠØ®Ø© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…!
        </div>
        
        <div class="info">
            <h3>ğŸ“‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</h3>
            <div class="store-info">
                <div class="store-name">ğŸª Ø´ÙŠØ®Ø©</div>
                <div class="store-desc">Ù…Ù„Ø§Ø¨Ø³ Ù†Ø³Ø§Ø¦ÙŠØ© Ø±Ø§Ù‚ÙŠØ©</div>
                <div class="product-count">ğŸ“¦ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: 3 Ù…Ù†ØªØ¬Ø§Øª</div>
                <div class="product-count">ğŸ“ Ø§Ù„ÙØ¦Ø©: Ø§Ù„Ø£Ø²ÙŠØ§Ø¡ ÙˆØ§Ù„Ù…Ù„Ø§Ø¨Ø³</div>
                <div class="product-count">âœ… Ø§Ù„Ø­Ø§Ù„Ø©: Ù†Ø´Ø·</div>
            </div>
        </div>
        
        <div class="warning">
            <strong>âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø©:</strong> Ø¨Ø¹Ø¯ Ù…Ø³Ø­ localStorageØŒ ÙŠØ¬Ø¨ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        </div>
        
        <div style="margin-top: 25px;">
            <a href="http://localhost:5174" class="btn" target="_blank" rel="noopener">
                ğŸš€ Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚
            </a>
            <button onclick="refreshPage()" class="btn">
                ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
            </button>
            <button onclick="checkStore()" class="btn">
                ğŸ” ÙØ­Øµ Ø§Ù„Ù…ØªØ¬Ø±
            </button>
        </div>
        
        <div id="result" style="margin-top: 20px;"></div>
    </div>

    <script>
        function refreshPage() {
            location.reload();
        }
        
        async function checkStore() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<div class="info">Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙØ­Øµ...</div>';
            
            try {
                // ÙØ­Øµ ÙÙ‡Ø±Ø³ Ø§Ù„Ù…ØªØ§Ø¬Ø±
                const indexResponse = await fetch('http://localhost:4000/assets/stores/index.json');
                if (indexResponse.ok) {
                    const stores = await indexResponse.json();
                    const shikhaStore = stores.find(store => store.slug === 'shikha');
                    
                    if (shikhaStore) {
                        resultDiv.innerHTML = `
                            <div class="success">
                                âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…ØªØ¬Ø± Ø´ÙŠØ®Ø© ÙÙŠ ÙÙ‡Ø±Ø³ Ø§Ù„Ù…ØªØ§Ø¬Ø±!<br>
                                Ø§Ù„Ø§Ø³Ù…: ${shikhaStore.nameAr}<br>
                                Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: ${shikhaStore.productsCount}<br>
                                Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ${new Date(shikhaStore.lastUpdated).toLocaleString('ar')}
                            </div>
                        `;
                    } else {
                        resultDiv.innerHTML = '<div class="warning">âš ï¸ Ù…ØªØ¬Ø± Ø´ÙŠØ®Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ ÙÙ‡Ø±Ø³ Ø§Ù„Ù…ØªØ§Ø¬Ø±</div>';
                    }
                }
                
                // ÙØ­Øµ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±
                const storeResponse = await fetch('http://localhost:4000/assets/shikha/store.json');
                if (storeResponse.ok) {
                    const storeData = await storeResponse.json();
                    resultDiv.innerHTML += `
                        <div class="info" style="margin-top: 10px;">
                            ğŸ“Š Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±: ${storeData.products?.length || 0} Ù…Ù†ØªØ¬
                        </div>
                    `;
                }
            } catch (error) {
                resultDiv.innerHTML = `<div class="warning">âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„: ${error.message}</div>`;
            }
        }
        
        // ÙØ­Øµ ÙÙˆØ±ÙŠ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        setTimeout(checkStore, 1000);
        
        console.log('ğŸª ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø£Ø¯Ø§Ø© Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù…ØªØ¬Ø± Ø´ÙŠØ®Ø©');
        console.log('ğŸ“‹ Ø­Ø§Ù„Ø© localStorage:', localStorage);
    </script>
</body>
</html>